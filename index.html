<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="manifest" href="manifest.json" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Cache Control - Always get fresh content -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    
    <!-- Primary Meta Tags -->
    <title>Rainz Weather - AI Weather Predictions & Hyper-Local Forecasts</title>
    <meta name="title" content="Rainz Weather - AI Weather Predictions & Hyper-Local Forecasts" />
    <meta name="description" content="Rainz Weather: AI-powered weather predictions with hyper-local forecasts, real-time pollen tracking, and weather station data. Make accurate weather predictions and compete on the leaderboard.">
    <meta name="keywords" content="Rainz, Rainz Weather, Rainz weather app, weather app, AI weather, weather predictions, pollen tracker, allergy forecast, hyper-local weather, weather AI companion, personalized weather, weather station data, weather leaderboard, weather forecasts, daily weather briefing, weather alerts">
    <meta name="author" content="Rainz Weather" />
    <meta name="application-name" content="Rainz Weather" />
    <link rel="canonical" href="https://rainz.lovable.app" />
    
    <!-- Mobile/PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Rainz" />
    <meta name="theme-color" content="#3B82F6" />

    <!-- Favicon setup -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/favicon-512.png" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://rainz.lovable.app" />
    <meta property="og:site_name" content="Rainz Weather" />
    
    <meta property="og:title" content="Rainz - AI-Powered Weather App with Pollen Tracking" />
    <meta property="og:description" content="Rainz is your AI-powered weather companion with hyper-local forecasts, real-time pollen tracking, and personalized routine planning. Get smarter weather insights tailored to your allergies and daily schedule." />
    <meta property="og:image" content="https://rainz.lovable.app/logo-icon.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://rainz.lovable.app" />
    <meta name="twitter:title" content="Rainz - AI-Powered Weather App with Pollen Tracking" />
    <meta name="twitter:description" content="Rainz is your AI-powered weather companion with hyper-local forecasts, real-time pollen tracking, and personalized routine planning. Get smarter weather insights tailored to your allergies and daily schedule." />
    <meta name="twitter:image" content="https://rainz.lovable.app/logo-icon.png" />
    <meta name="twitter:image:alt" content="Rainz Weather App Logo" />
    <meta name="twitter:site" content="@lovable_dev" />
    
    <!-- Structured Data / Schema.org -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MobileApplication",
      "name": "Rainz",
      "applicationCategory": "WeatherApplication",
      "operatingSystem": "Web, iOS, Android",
      "description": "AI-powered weather app with hyper-local forecasts, pollen tracking, and personalized routine planning",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "256"
      }
    }
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      // Listen for service worker updates and force reload
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.addEventListener('message', (event) => {
          if (event.data && event.data.type === 'FORCE_RELOAD') {
            console.log('New version available, reloading...');
            window.location.reload();
          }
        });
        
        // Register service worker
        navigator.serviceWorker.register('/sw.js').then((registration) => {
          console.log('Service Worker registered:', registration);
          
          // Check for updates every 30 seconds
          setInterval(() => {
            registration.update();
          }, 30000);
        }).catch((error) => {
          console.error('Service Worker registration failed:', error);
        });
      }
    </script>
  </body>
</html>
